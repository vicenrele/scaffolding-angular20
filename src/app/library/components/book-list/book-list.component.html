<mat-card>
  <mat-card-title>Books</mat-card-title>
  <mat-divider></mat-divider>
  <button mat-raised-button color="primary" (click)="addingNew = true" *ngIf="!addingNew">Add Book</button>
  <app-book-detail
    *ngIf="addingNew"
    [isNew]="true"
    (save)="addBook($event)"
    (cancel)="cancelAdd()">
  </app-book-detail>
  <div *ngIf="books.length > 0; else noBooks">
    <ng-container *ngFor="let book of dataSource.filteredData">
    <!-- <ng-container *ngFor="let book of dataSource._pageData(dataSource.filteredData)">  -->
      <app-book-detail
        [book]="book"
        (save)="updateBook($event)"
        (delete)="removeBook($event)">
      </app-book-detail>
    </ng-container>
    <mat-paginator [length]="dataSource.filteredData.length"
                   [pageSize]="dataSource.paginator?.pageSize || 5"
                   [pageSizeOptions]="[5, 10, 20]">
    </mat-paginator>
  </div>
  <ng-template #noBooks>
    <div class="no-books">No books available</div>
  </ng-template>
</mat-card>